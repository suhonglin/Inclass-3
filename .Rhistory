as.factor(classData$`公-10-06`)
有看公告<-T
沒看公告<-F
as.factor(classData$`公-10-06`)
有看公告<-有看公告
沒看公告<-沒看公告
View(gsLMSHabit)
as.factor(classData$`公-10-06`)
gsLMSHabit[grepl('有看公告',Name)]
as.factor(classData$`公-10-06`)
1<-有看公告
as.factor(classData$`公-10-06`)
1<-"有看公告"
as.factor(classData$`公-10-06`)
as.factor(1)<-有看公告
classData$`公-10-06`<-as.factor(classData$`公-10-06`)
as.factor(classData$`公-10-06`)
as.factor(classData$`公-10-06`)
1<-"有看公告"
as.factor(classData$`公-10-06`)
1<-as.factor(有看公告)
as.factor(classData$`公-10-06`)
abc<-as.factor("公-10-06")
class(abc)
yes<-abc(1)
as.factor(classData$`公-10-06`)
library(googlesheets)
#gs_auth(new_user = TRUE)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
classData<-gs_read(gsLMSHabit,ws="公告與練習") #access the 1st worksheet
as.factor(classData$`公-10-06`)
abc<-as.factor("公-10-06")
class(abc)
yes<-abc(1)
aa<-as.factor("公-10-06")
class(aa)
yes<-abc("1")
aa<-as.factor("公-10-06")
class(aa)
yes<-aa("1")
abc<-as.factor("公-10-06")
class(abc)
yes<-abc("1")
as.factor("公-10-06")
class(abc)
yes<-abc("1")
as.factor("公-10-06")
## 1 數位學苑通知閱讀習慣
請先連到[資料科學程設（一）練習資料Google Sheets](https://docs.google.com/spreadsheets/d/1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc/edit#gid=2059291896)；接著在該表單網頁選**File**->**Add to My Drive**，然後執行以下程式：
## 1 數位學苑通知閱讀習慣
```{r}
## 1 數位學苑通知閱讀習慣
library(googlesheets)
#gs_auth(new_user = TRUE)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
classData<-gs_read(gsLMSHabit,ws="公告與練習") #access the 1st worksheet
as.factor("公-10-06")
View(gsLMSHabit)
## 1 數位學苑通知閱讀習慣
library(googlesheets)
#gs_auth(new_user = TRUE)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
classData<-gs_read(gsLMSHabit,ws="公告與練習") #access the 1st worksheet
## 1 數位學苑通知閱讀習慣
library(googlesheets)
#gs_auth(new_user = TRUE)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
classData<-gs_read(gsLMSHabit,ws="公告與練習") #access the 1st worksheet
View(classData)
View(gsLMSHabit)
as.factor(classData$`公-10-06`)
as.factor(classData$`公-10-06`)
as.factor(1)<-"有看公告"
as.factor(classData$`公-10-06`)
as.factor("1")<-"有看公告"
as.factor(classData$`公-10-06`)
grepl(1)
library(readr)
library(stringr)
filmVotingData <- read_csv("https://raw.githubusercontent.com/tpemartin/course-107-1-programming-for-data-science/master/data/%E7%AC%AC%E4%B8%89%E5%B1%86%E7%B6%93%E6%BF%9F%E6%92%AD%E5%AE%A2%E7%AB%B6%E8%B3%BD%E5%8F%83%E8%B3%BD%E4%BD%9C%E5%93%81%E6%8A%95%E7%A5%A8%E7%B5%90%E6%9E%9C%E6%A8%A3%E6%9C%AC%20-%20Sheet1.csv")
#2.1 將`filmVotingData$Timestamp`透過`lubridate::mdy_hms()`轉成POSIXct Date/Time class。
library(lubridate)
timestamp <- mdy_hms(filmVotingData$Timestamp)
#2.2 由於原始資料的時區為UTC，請透過`lubridate::with_tz()`將時區設為"Asia/Taipei"。
timestamp <- with_tz(timestamp,tzone="Asia/Taipei")
#2.3 由Timestamp透過`lubridate::hour()`取出學生上網填表的小時值並存在新的變數`filmVotingData$hour`。
filmVotingData$hour <- hour(timestamp)
#2.4 使用`table()`統計學生最活躍的填表時間。
table(filmVotingData$hour)
sort(table(filmVotingData$hour),decreasing = T)
library(readr)
library(stringr)
filmVotingData <- read_csv("https://raw.githubusercontent.com/tpemartin/course-107-1-programming-for-data-science/master/data/%E7%AC%AC%E4%B8%89%E5%B1%86%E7%B6%93%E6%BF%9F%E6%92%AD%E5%AE%A2%E7%AB%B6%E8%B3%BD%E5%8F%83%E8%B3%BD%E4%BD%9C%E5%93%81%E6%8A%95%E7%A5%A8%E7%B5%90%E6%9E%9C%E6%A8%A3%E6%9C%AC%20-%20Sheet1.csv")
head(filmVotingData$請選擇你最喜歡的影片二部)
#2.1 將`filmVotingData$Timestamp`透過`lubridate::mdy_hms()`轉成POSIXct Date/Time class。
library(lubridate)
timestamp <- mdy_hms(filmVotingData$Timestamp)
#2.2 由於原始資料的時區為UTC，請透過`lubridate::with_tz()`將時區設為"Asia/Taipei"。
timestamp <- with_tz(timestamp,tzone="Asia/Taipei")
#2.3 由Timestamp透過`lubridate::hour()`取出學生上網填表的小時值並存在新的變數`filmVotingData$hour`。
filmVotingData$hour <- hour(timestamp)
#2.4 使用`table()`統計學生最活躍的填表時間。
table(filmVotingData$hour)
sort(table(filmVotingData$hour),decreasing = T)
as.factor(classData$`公-10-06`)
factor(1)->"有看公告
factor(0)->"沒看公告"
as.factor(classData$`公-10-06`)
factor(1)->"有看公告"
factor(0)->"沒看公告"
classData$有看公告
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
hwData<-gs_read(gsLMSHabit,ws="作業上傳")
View(params)
row.names(classData)
row.names(classData)
colnames(classData)
row.names(classData)
colnames(classData)
row.names(classData)
colnames(classData)
classData[1]
row.names(classData)
colnames(classData)
classData[which(classData$有看公告==1),2]
row.names(classData)
colnames(classData)
classData[which(classData$有看公告==1),2]
row.names(classData)
colnames(classData)
classData[which(classData$有看公告==1)]
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
hwData<-gs_read(gsLMSHabit,ws="作業上傳")
View(classData)
View(gsLMSHabit)
gsLMSHabit$hour <- hour(timestamp)
gsLMSHabit$hour <- hour(timestamp)
timestamp <- with_tz(timestamp,tzone="Asia/Taipei")
'deadline'<-timestamp<=2018-10-24 00:00:00
'deadline'<-timestamp<=(2018-10-24 00:00:00)
'deadline'<-[which(timestamp<=2018-10-24 00:00:00)]
deadline<-[which(timestamp<=2018-10-24 00:00:00)]
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
hwData<-gs_read(gsLMSHabit,ws="作業上傳")
deadline<-which(timestamp<=2018-10-24 00:00:00)
library(stringr)
library(lubridate)
民國年月<-c("099/01","099/02","099/03")
# 1
str_c("1",民國年月,"/01")->民國年月
# 2
lubridate::ymd(民國年月) -> 民國年月
# 3
民國年月 + years(911)
民國年月<-c("099/01","099/02","099/03")
library(dplyr)
# 1
民國年月 %>%
str_c("1", . ,"/01") %>%
ymd %>%
{ . + years(911) }
library(readr)
collegeData <- read_csv("https://quality.data.gov.tw/dq_download_csv.php?nid=6231&md5_url=dda8fca407131483c1d8cbf3d61cf793")
View(collegeData)
library(readr)
collegeData <- read_csv("https://quality.data.gov.tw/dq_download_csv.php?nid=6231&md5_url=dda8fca407131483c1d8cbf3d61cf793")
library(dplyr)
mutate(
collegeData,
學校代碼=as.factor(學校代碼),
學校名稱=as.factor(學校名稱)
) -> collegeData2
library(dplyr)
mutate(
collegeData,
學校代碼1=as.factor(學校代碼),
學校名稱1=as.factor(學校名稱)
) -> collegeData2
library(readr)
collegeData <- read_csv("https://quality.data.gov.tw/dq_download_csv.php?nid=6231&md5_url=dda8fca407131483c1d8cbf3d61cf793")
library(dplyr)
mutate(
collegeData,
學校代碼1=as.factor(學校代碼),
學校名稱1=as.factor(學校名稱)
) -> collegeData2
View(collegeData2)
library(dplyr)
mutate(
collegeData,
學校代碼=as.factor(學校代碼),
學校名稱=as.factor(學校名稱)
) -> collegeData2
collegeData %>%
mutate(
日間/進修別=as.factor(日間/進修別)
+collegeData$學校名稱 <-
+  as.factor(collegeData$學校名稱)
collegeData$學校代碼<-as.factor(collegeData$學校代碼)
collegeData$`日間∕進修別`<-as.factor(collegeData$`日間∕進修別`)
collegeData$學校代碼<-as.factor(collegeData$學校代碼)
collegeData$`日間∕進修別`<-as.factor(collegeData$`日間∕進修別`)
collegeData$一年級一年級女生<-as.numeric(collegeData$一年級女生)
library(dplyr)
collegeData%>%
mutate(
collegeData,
'日間/進修部'=as.factor(日間/進修部),
一年級男生=as.numeric(一年級男生)
一年級女生=as.numeric(一年級女生)
library(dplyr)
collegeData%>%
mutate(
collegeData,
'日間/進修部'=as.factor(日間/進修部),
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData2
library(dplyr)
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
library(stringr)
collegeData %>%
mutate(
一年級男生=str_replace(一年級男生,",",""),
一年級女生=str_replace(一年級女生,",","")
) %>%
mutate(
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
library(readr)
cl<-locale(grouping_mark = ",") # 創造cl來描述千分位符號使用","的習慣場景
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
一年級男生=parse_number(一年級男生,locale=cl),
一年級女生=parse_number(一年級女生,locale=cl)
) -> collegeData4
problems(collegeData4$一年級男生)
problems(collegeData4$一年級男生)
collegeData$一年級男生[c(14,76,88)]
library(readr)
cl<-locale(grouping_mark = ",") # 創造cl來描述千分位符號使用","的習慣場景
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
一年級男生=parse_number(一年級男生,na=c("","NA","-"),locale=cl),
一年級女生=parse_number(一年級女生,na=c("","NA","-"),locale=cl)
) -> collegeData4
problems(collegeData4$一年級男生)
collegeData$一年級男生[c(14,76,88)]
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
一年級男生=parse_number(一年級男生,locale=cl),
一年級女生=parse_number(一年級女生,locale=cl)
) -> collegeData4
collegeData4 %>%
mutate(
一年級男生每千人=一年級男生/1000,
一年級女生每千人=一年級女生/1000
) -> collegeData5
library(stringr)
college1stYearData %>%
mutate_all(funs(parse_number(.,locale=cl))) ->
college1stYearDataNumeric
collegeData %>% mutate_at(
vars(一年級男生,一年級女生),
funs(parse_number(.,locale=cl))
) -> college1stYearDataA
college1stYearDataA %>%
select(一年級男生,一年級女生)
collegeData %>% mutate_at(
vars(starts_with("一年級")),
funs(parse_number(.,locale=cl))
) -> college1stYearDataB
college1stYearDataB %>%
select(一年級男生,一年級女生)
library(googlesheets)
#gs_auth(new_user = TRUE)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
classData<-gs_read(gsLMSHabit,ws="公告與練習") #access the 1st worksheet
## 1 數位學苑通知閱讀習慣
library(googlesheets)
#gs_auth(new_user = TRUE)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
classData<-gs_read(gsLMSHabit,ws="公告與練習") #access the 1st worksheet
as.factor(classData$`公-10-06`)
factor(1)->"有看公告"
factor(0)->"沒看公告"
row.names(classData)
colnames(classData)
classData[which(classData$有看公告==1)]
classData$`練2018-10-17-1`
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
hwData<-gs_read(gsLMSHabit,ws="作業上傳")
gsLMSHabit$hour <- hour(timestamp)
deadline<-which(timestamp<=2018-10-24 00:00:00)
library(readr)
bankdata <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/bankdata.csv")
View(bankdata)
as.factor(銀行)
bankdata$`銀行`<-as.factor(bankdata$`銀行`)
View(bankdata)
library(lubridate)
library(stringr)
date<-bankdata$`年月`
str_c("2",date)
library(lubridate)
library(stringr)
date<-bankdata$`年月`
str_c("2",date)
year(date)<-year(date)-year(89)
library(lubridate)
library(stringr)
date<-bankdata$`年月`
str_c("2",date)
year(date) <- year(date)-89
library(lubridate)
library(stringr)
date<-bankdata$`年月`
str_c("2",date)
library(lubridate)
library(stringr)
date<-bankdata$`年月`
date<-str_c("2",date)
date<-year(date)-89
library(lubridate)
library(stringr)
date<-bankdata$`年月`
date<-str_c("2",date)
year(date)<-year(date)-89
library(lubridate)
library(stringr)
date<-bankdata$`年月`
date<-str_c("2",date)
date<-lubridate::ymd(date)
library(lubridate)
library(stringr)
date<-bankdata$`年月`
date<-str_c("2",date)
date<-lubridate::ymd(date)
date-year(89)
bankdata$`銀行`<-as.factor(bankdata$`銀行`)
library(readr)
bankdata <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/bankdata.csv")
bankdata$`銀行`<-as.factor(bankdata$`銀行`)
library(lubridate)
library(stringr)
date<-bankdata$`年月`
date<-str_c("2",date)
date<-lubridate::ymd(date)
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date,"/01")
date <- ymd(date)
year(date) <- year(date)-89
bankdata$'年月' <- date
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date)
date <- ymd(date)
year(date) <- year(date)-89
bankdata$'年月' <- date
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date)
date <- ymd(date)
year(date) <- year(date)-89
bankdata$'年月' <- date
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date)
date <- ymd(date)
year(date) <- year(date)-89
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date)
View(bankdata)
bankdata$`銀行`<-as.factor(bankdata$`銀行`)
library(readr)
bankdata <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/bankdata.csv")
library(lubridate)
library(stringr)
date<-bankdata$'年月'
str_c("2",date)
library(lubridate)
library(stringr)
date<-bankdata$'年月'
str_c("2",date)
date<-ymd(data)
library(lubridate)
library(stringr)
date<-bankdata$'年月'
str_c("2",date)
date<-ym(data)
library(lubridate)
library(stringr)
date<-bankdata$'年月'
str_c("2",date,"/00")
date<-ymd(data)
library(lubridate)
library(stringr)
date<-bankdata$'年月'
str_c("2",date,"/00")
date<-ymd(date)
year(date)<-year(date)-89
library(lubridate)
library(stringr)
date<-bankdata$'年月'
str_c("2",date,"/00")
date<-ymd(date)
year(date)<-year(date)-89
bankdata$'年月'<-year(date)
library(lubridate)
library(stringr)
date<-bankdata$'年月'
str_c("2",date,"/00")
date<-ymd(date)
year(date)<-year(date)-year(89)
library(readr)
bankdata <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/bankdata.csv")
library(lubridate)
library(stringr)
date<-bankdata$'年月'
str_c("2",date,"/00")
date<-ymd(date)
year(date)<-year(date)-year(89)
library(lubridate)
library(stringr)
date <- bankData$'年月'
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date,"/01")
date <- ymd(date)
year(date) <- year(date)-89
bankdata$'年月' <- date
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date,"/01")
date <- ymd(date)
year(date) <- year(date)-89
str_replace(date,"/01")
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date,"/01")
date <- ymd(date)
year(date) <- year(date)-89
str_replace(date,"/01","")
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date,"/01")
date <- ymd(date)
year(date) <- year(date)-89
allBankData$'年月' <- date
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("2",date,"/01")
date <- ymd(date)
year(date) <- year(date)-89
bankdata$'年月' <- date
library(readr)
typhoon<-read.csv(https://google.org/crisismap/google.com/2018-trami)
library(readr)
library(googlesheets)
typhoon<-read.csv(https://google.org/crisismap/google.com/2018-trami)
library(readr)
library(googlesheets)
typhoon<-read.csv(https:/google.org/crisismap/google.com/2018-trami)
factor(bankdata$年月)->bankdata$年月
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("1",date,"/01")
date <- ymd(date)
year(date) <- year(date)+911
bankdata$'年月' <- date
library(readr)
bankdata <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/bankdata.csv")
factor(bankdata$年月)->bankdata$年月
library(lubridate)
library(stringr)
date <- bankdata$'年月'
date <- str_c("1",date,"/01")
date <- ymd(date)
year(date) <- year(date)+911
bankdata$'年月' <- date
library(lubridate)
with_tz(ydm_hm(2018/30/09 00:00),tzone="AsiaTaipei")
library(lubridate)
with_tz(ymd_hm(2018/09/30 00:00),tzone="AsiaTaipei")
library(lubridate)
with_tz(ymd_hm(2018/09/30 00:00))->googledatetime
